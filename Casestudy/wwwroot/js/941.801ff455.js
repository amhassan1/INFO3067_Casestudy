"use strict";(globalThis["webpackChunkcasestudyvue"]=globalThis["webpackChunkcasestudyvue"]||[]).push([[941],{5572:(e,t,a)=>{a.d(t,{C:()=>n,_:()=>r});const s="/api/",r=async e=>{let t,a=l();try{let r=await fetch(`${s}${e}`,{method:"GET",headers:a});t=await r.json()}catch(r){console.log(r),t={error:`Error has occured: ${r.message}`}}return t},l=()=>{const e=new Headers,t=JSON.parse(sessionStorage.getItem("customer"));return t?(e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+t.token)):e.append("Content-Type","application/json"),e},n=async(e,t)=>{let a,r=l();try{let l=await fetch(`${s}${e}`,{method:"POST",headers:r,body:JSON.stringify(t)});a=await l.json()}catch(n){a=n}return a}},5941:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var s=a(9835),r=a(6970);const l=(0,s._)("div",{class:"text-h4 text-center q-mt-md q-mb-md text-primary"},"Register",-1),n={class:"text-title2 text-center text-positive text-bold q-mt-sm"};function i(e,t,a,i,o,d){const u=(0,s.up)("q-input"),m=(0,s.up)("q-btn"),p=(0,s.up)("q-form"),c=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l,(0,s._)("div",n,(0,r.zw)(i.state.status),1),(0,s.Wm)(c,{class:"q-ma-md q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{ref:"myForm",class:"q-gutter-md",greedy:"",onSubmit:i.register,onReset:i.resetFields},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{outlined:"",placeholder:"Enter First Name",id:"firstName",modelValue:i.state.firstname,"onUpdate:modelValue":t[0]||(t[0]=e=>i.state.firstname=e),rules:[i.isRequired]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{outlined:"",placeholder:"Enter Last Name",id:"lastName",modelValue:i.state.lastname,"onUpdate:modelValue":t[1]||(t[1]=e=>i.state.lastname=e),rules:[i.isRequired]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{outlined:"",placeholder:"Enter Email",id:"email",modelValue:i.state.email,"onUpdate:modelValue":t[2]||(t[2]=e=>i.state.email=e),rules:[i.isRequired,i.isValidEmail]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{outlined:"",placeholder:"Enter Password",id:"password",modelValue:i.state.password,"onUpdate:modelValue":t[3]||(t[3]=e=>i.state.password=e),type:"password",rules:[i.isRequired]},null,8,["modelValue","rules"]),(0,s.Wm)(m,{label:"Register",type:"submit"}),(0,s.Wm)(m,{label:"Reset",type:"reset"})])),_:1},8,["onSubmit","onReset"])])),_:1})],64)}var o=a(499),d=a(5572);const u={setup(){let e=(0,o.qj)({status:"",firstname:"",lastname:"",email:"",password:""});const t=e=>{const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"},a=e=>!!e||"field is required",s=async()=>{e.status="registering with server";let t={firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password};try{let a=await(0,d.C)("customer/register",t);e.status=a.token}catch(a){e.status=a.message}},r=()=>{e.firstname="",e.lastname="",e.email="",e.password="",e.status=""};return{state:e,register:s,isRequired:a,resetFields:r,isValidEmail:t}}};var m=a(1639),p=a(4458),c=a(8326),h=a(6611),w=a(4455),g=a(9984),y=a.n(g);const f=(0,m.Z)(u,[["render",i]]),q=f;y()(u,"components",{QCard:p.Z,QForm:c.Z,QInput:h.Z,QBtn:w.Z})}}]);