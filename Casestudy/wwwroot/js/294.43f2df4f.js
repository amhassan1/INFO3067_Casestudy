"use strict";(globalThis["webpackChunkcasestudyvue"]=globalThis["webpackChunkcasestudyvue"]||[]).push([[294],{5572:(t,e,a)=>{a.d(e,{C:()=>d,_:()=>r});const s="/api/",r=async t=>{let e,a=l();try{let r=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await r.json()}catch(r){console.log(r),e={error:`Error has occured: ${r.message}`}}return e},l=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t},d=async(t,e)=>{let a,r=l();try{let l=await fetch(`${s}${t}`,{method:"POST",headers:r,body:JSON.stringify(e)});a=await l.json()}catch(d){a=d}return a}},7081:(t,e,a)=>{a.d(e,{p:()=>r,x:()=>s});const s=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),r=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear(),l=e.getHours(),d=e.getMinutes();return d<10&&(d="0"+d),r+"-"+s+"-"+a+" "+l+":"+d}},3294:(t,e,a)=>{a.r(e),a.d(e,{default:()=>A});var s=a(9835),r=a(6970);const l={class:"text-center"},d=["src"],o=(0,s._)("div",{class:"text-h2 q-mt-lg"},"Brands",-1),c={class:"status q-mt-md text-subtitle2 text-negative","text-color":"red"},n=(0,s._)("p",null,null,-1),i={key:1,class:"text-h6 text-bold text-center text-primary"},u=["src"],p={class:"text-center"},m=["src"],g={class:"text-subtitle2 text-center"},w={class:"row justify-center"};function h(t,e,a,h,y,f){const q=(0,s.up)("q-avatar"),v=(0,s.up)("q-select"),_=(0,s.up)("q-item-section"),b=(0,s.up)("q-item"),x=(0,s.up)("q-list"),S=(0,s.up)("q-card"),k=(0,s.up)("q-scroll-area"),C=(0,s.up)("q-btn"),W=(0,s.up)("q-card-actions"),P=(0,s.up)("q-card-section"),B=(0,s.up)("q-tooltip"),Q=(0,s.up)("q-chip"),Z=(0,s.up)("q-input"),$=(0,s.up)("q-dialog"),I=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[(0,s.Wm)(q,{class:"q-mt-lg",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/Running_shoe_icon.png"},null,8,d)])),_:1}),o,(0,s._)("div",c,(0,r.zw)(h.state.status),1),n,h.state.brands.length>0?((0,s.wg)(),(0,s.j4)(v,{key:0,class:"q-mt-lg q-ml-lg",style:{width:"50vw","margin-bottom":"4vh","background-color":"#fff"},"option-value":"id","option-label":"name",options:h.state.brands,label:"Select a Brand",modelValue:h.state.selectedBrandId,"onUpdate:modelValue":[e[0]||(e[0]=t=>h.state.selectedBrandId=t),e[1]||(e[1]=t=>h.getProducts())],"emit-value":"","map-options":""},null,8,["options","modelValue"])):(0,s.kq)("",!0),h.state.products.length>0?((0,s.wg)(),(0,s.iD)("div",i,(0,r.zw)(h.state.selectedBrand.name)+" products ",1)):(0,s.kq)("",!0),(0,s.Wm)(k,{style:{height:"55vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.state.products,(t=>((0,s.wg)(),(0,s.j4)(b,{clickable:"",key:t.id,onClick:e=>h.selectProduct(t.id)},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{style:{height:"90px",width:"90px"},square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:`/img/${t.graphicName}`},null,8,u)])),_:2},1024)])),_:2},1024),(0,s.Wm)(_,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.productName),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})]),(0,s.Wm)($,{modelValue:h.state.productSelected,"onUpdate:modelValue":e[5]||(e[5]=t=>h.state.productSelected=t),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(C,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[I]])])),_:1}),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("img",{src:`img/${h.state.selectedProduct.graphicName}`,width:"128",height:"128"},null,8,m)])])),_:1}),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s._)("div",g,(0,r.zw)(h.state.selectedProduct.productName)+" - "+(0,r.zw)(h.formatCurrency(h.state.selectedProduct.msrp)),1)])),_:1}),(0,s.Wm)(P,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{icon:"bookmark",color:"primary","text-color":"white","text-center":""},{default:(0,s.w5)((()=>[(0,s.Uk)("Details "),(0,s.Wm)(B,{"transition-show":"flip-right","transition-hide":"flip-left","text-color":"white"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(h.state.selectedProduct.description),1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s._)("div",w,[(0,s.Wm)(Z,{modelValue:h.state.qty,"onUpdate:modelValue":e[2]||(e[2]=t=>h.state.qty=t),modelModifiers:{number:!0},type:"number",filled:"",placeholder:"qty",hint:"Qty",dense:"",style:{"max-width":"12vw"}},null,8,["modelValue"]),(0,s.Uk)("Â  "),(0,s.Wm)(C,{color:"primary",label:"Add To Cart",disable:h.state.qty<0,onClick:e[3]||(e[3]=t=>h.addToCart()),style:{"max-width":"25vw","margin-left":"3vw"}},null,8,["disable"]),(0,s.Wm)(C,{color:"accent",label:"View Cart",onClick:e[4]||(e[4]=t=>h.viewCart()),style:{"max-width":"25vw","margin-left":"3vw"}})])])),_:1}),(0,s.Wm)(P,{class:"text-center text-positive"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(h.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(9665);var y=a(499),f=a(8339),q=a(5572),v=a(7081);const _={setup(){const t=(0,f.tv)();let e=(0,y.qj)({status:"",brands:[],products:[],selectedBrand:{},selectedBrandId:"",selectedProduct:{},dialogStatus:"",productSelected:!1,qty:0,cart:[]});(0,s.bv)((()=>{a()}));const a=async()=>{try{e.status="resetting tables ...",e.brands=await(0,q._)("Brand"),e.status="Brands Loaded"}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},r=async()=>{try{e.selectedBrand=e.brands.find((t=>t.id===e.selectedBrandId)),e.status=`finding products for brand ${e.selectedBrand}...`,e.products=await(0,q._)(`Product/${e.selectedBrand.id}`),e.status=`loaded ${e.products.length} products for ${e.selectedBrand.name}`}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},l=async t=>{try{e.selectedProduct=e.products.find((e=>e.id===t)),e.productSelected=!0,e.dialogStatus="",sessionStorage.getItem("cart")&&(e.cart=JSON.parse(sessionStorage.getItem("cart")))}catch(a){console.log(a),e.status=`Error has occured: ${a.message}`}},d=()=>{let t=-1;e.cart.length>0&&(t=e.cart.findIndex((t=>t.id===e.selectedProduct.id))),e.qty>0?(-1===t?e.cart.push({id:e.selectedProduct.id,qty:e.qty,product:e.selectedProduct}):e.cart[t]={id:e.selectedProduct.id,qty:e.qty,item:e.selectedProduct},e.dialogStatus=`${e.qty} products(s) added`):(-1!==t&&e.cart.splice(t,1),e.dialogStatus="products(s) removed"),sessionStorage.setItem("cart",JSON.stringify(e.cart)),e.qty=0},o=()=>{t.push("cart")};return{loadBrands:a,getProducts:r,selectProduct:l,addToCart:d,formatCurrency:v.x,viewCart:o,state:e}}};var b=a(1639),x=a(1357),S=a(995),k=a(1019),C=a(4458),W=a(3246),P=a(490),B=a(1233),Q=a(7743),Z=a(1821),$=a(4455),I=a(3190),D=a(7691),T=a(6858),U=a(6611),V=a(2146),z=a(9984),j=a.n(z);const N=(0,b.Z)(_,[["render",h]]),A=N;j()(_,"components",{QAvatar:x.Z,QSelect:S.Z,QScrollArea:k.Z,QCard:C.Z,QList:W.Z,QItem:P.Z,QItemSection:B.Z,QDialog:Q.Z,QCardActions:Z.Z,QBtn:$.Z,QCardSection:I.Z,QChip:D.Z,QTooltip:T.Z,QInput:U.Z}),j()(_,"directives",{ClosePopup:V.Z})}}]);