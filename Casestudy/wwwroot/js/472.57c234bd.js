"use strict";(globalThis["webpackChunkcasestudyvue"]=globalThis["webpackChunkcasestudyvue"]||[]).push([[472],{5572:(t,e,a)=>{a.d(e,{C:()=>c,_:()=>r});const s="/api/",r=async t=>{let e,a=l();try{let r=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await r.json()}catch(r){console.log(r),e={error:`Error has occured: ${r.message}`}}return e},l=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t},c=async(t,e)=>{let a,r=l();try{let l=await fetch(`${s}${t}`,{method:"POST",headers:r,body:JSON.stringify(e)});a=await l.json()}catch(c){a=c}return a}},7081:(t,e,a)=>{a.d(e,{p:()=>r,x:()=>s});const s=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),r=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear(),l=e.getHours(),c=e.getMinutes();return c<10&&(c="0"+c),r+"-"+s+"-"+a+" "+l+":"+c}},1472:(t,e,a)=>{a.r(e),a.d(e,{default:()=>S});var s=a(9835),r=a(6970);const l={class:"text-center"},c=["src"],o=(0,s._)("div",{class:"text-h4 q-mt-md text-primary"},"Cart Contents",-1),n=["src"],u={class:"text-h6 text-primary"};function d(t,e,a,d,i,m){const w=(0,s.up)("q-avatar"),p=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),f=(0,s.up)("q-list"),y=(0,s.up)("q-card"),h=(0,s.up)("q-btn"),_=(0,s.up)("q-scroll-area");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(w,{class:"q-mt-lg",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/Running_shoe_icon.png"},null,8,c)])),_:1}),o,(0,s.Wm)(w,{class:"q-my-md",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/cart.png"},null,8,n)])),_:1}),(0,s._)("div",u,(0,r.zw)(d.state.status),1),(0,s.Wm)(_,{style:{height:"55vh"}},{default:(0,s.w5)((()=>[d.state.cart.length>0?((0,s.wg)(),(0,s.j4)(y,{key:0,class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{separator:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"col-3 text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Name ")])),_:1}),(0,s.Wm)(p,{class:"col-2 text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)("Qty")])),_:1}),(0,s.Wm)(p,{class:"col-3 text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)(" MSRP ")])),_:1}),(0,s.Wm)(p,{class:"col-3 text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Extended ")])),_:1})])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.state.cart,(t=>((0,s.wg)(),(0,s.j4)(g,{key:t.id,class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"col-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.product.productName),1)])),_:2},1024),(0,s.Wm)(p,{class:"col-2"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.qty),1)])),_:2},1024),(0,s.Wm)(p,{class:"col-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(d.formatCurrency(t.product.msrp)),1)])),_:2},1024),(0,s.Wm)(p,{class:"col-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(d.formatCurrency(t.product.msrp*t.qty)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,s.Wm)(g,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"col-3 text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Sub: ")])),_:1}),(0,s.Wm)(p,{class:"col-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(d.formatCurrency(d.subTotal())),1)])),_:1})])),_:1}),(0,s.Wm)(g,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"col-3 text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Tax(13%): ")])),_:1}),(0,s.Wm)(p,{class:"col-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(d.formatCurrency(d.tax())),1)])),_:1})])),_:1}),(0,s.Wm)(g,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"col-3 text-weight-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Total: ")])),_:1}),(0,s.Wm)(p,{class:"col-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(d.formatCurrency(d.total())),1)])),_:1})])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(h,{class:"q-mr-sm",icon:"shopping_cart",color:"primary",label:"Checkout",disable:d.state.cart.length<1,onClick:e[0]||(e[0]=t=>d.placeOrder())},null,8,["disable"]),d.state.cart.length>0?((0,s.wg)(),(0,s.j4)(h,{key:1,icon:"delete",color:"primary","text-color":"white",label:"Empty cart",onClick:e[1]||(e[1]=t=>d.clearCart())})):(0,s.kq)("",!0)])),_:1})])}var i=a(499),m=a(7081),w=a(5572);const p={setup(){let t=(0,i.qj)({status:"",cart:[]});(0,s.bv)((()=>{c()}));const e=()=>{sessionStorage.removeItem("cart"),t.cart=[],t.status="Cart Emptied"},a=()=>{let e=0;return t.cart.forEach((t=>{e+=t.product.msrp*t.qty})),e},r=()=>{const t=.13;return a()*t},l=()=>r()+a(),c=async()=>{try{sessionStorage.getItem("cart")&&(t.cart=JSON.parse(sessionStorage.getItem("cart")))}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}},o=async()=>{let a=JSON.parse(sessionStorage.getItem("customer")),s=JSON.parse(sessionStorage.getItem("cart"));try{t.status="sending order info to server";let r={email:a.email,selections:s},l=await(0,w.C)("order",r);l.indexOf("not")>0||e(),t.status=l}catch(r){console.log(r),t.status=`Error add order: ${r}`}};return{state:t,clearCart:e,loadCart:c,formatCurrency:m.x,subTotal:a,tax:r,total:l,placeOrder:o}}};var g=a(1639),f=a(1357),y=a(1019),h=a(4458),_=a(3246),k=a(490),W=a(1233),x=a(4455),C=a(9984),b=a.n(C);const q=(0,g.Z)(p,[["render",d]]),S=q;b()(p,"components",{QAvatar:f.Z,QScrollArea:y.Z,QCard:h.Z,QList:_.Z,QItem:k.Z,QItemSection:W.Z,QBtn:x.Z})}}]);